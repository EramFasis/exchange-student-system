<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coordinator Dashboard - EYR Exchange</title>
    <link rel="stylesheet" href="main.css">
    <style>
        /* dashboard layout */
        .dashboard {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
        }

        /* header with title and welcome message */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        /* statistics cards grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            
        }

        /* individual statistic card */
        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e9ecef;
        }

        /* large number display */
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #495057;
        }

        /* applications list container */
        .applications-list {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        /* individual application item */
        .application-item {
            padding: 15px 20px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: background 0.2s;
        }

        .application-item:hover {
            background: #f8f9fa;
        }

        .application-item:last-child {
            border-bottom: none;
        }

        /* application info section */
        .app-info h4 {
            margin: 0 0 5px 0;
            color: #232b32;
        }

        /* application metadata */
        .app-meta {
            font-size: 0.9rem;
            color: #232b32;
        }

        /* status badge styling */
        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status-pending { background: #fff3cd; color: #856404; }
        .status-approved { background: #d4edda; color: #155724; }
        .status-rejected { background: #f8d7da; color: #721c24; }
        .status-changes { background: #cce7ff; color: #004085; }

        /* detailed application view */
        .application-detail {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 30px;
            margin-top: 20px;
            display: none;
        }

        /* detail view header */
        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        /* grid layout for details */
        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        /* section headers */
        .detail-section h3 {
            margin-bottom: 10px;
            color: #232b32;
        }

        /* documents list */
        .documents-list {
            list-style: none;
            padding: 0;
        }

        .documents-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        /* action buttons */
        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn-approve { background: #28a745; color: white; }
        .btn-reject { background: #dc3545; color: white; }
        .btn-changes { background: #ffc107; color: black; }
        .btn-back { background: #6c757d; color: white; }

        /* basic button styles */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            opacity: 0.9;
        }
    </style>
</head>
<body>

    <!-- Navigation -->
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="index.html"><img src="pictures/logo.png" alt="Logo"></a>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="campuses.html">Campuses</a></li>
                <li><a href="coordinator.html">Dashboard</a></li>
                <li><a href="login.html">Logout</a></li>
            </ul>
        </nav>
    </header>

    <br><br><br><br><br><br><br>

    <!-- main dashboard content -->
    <div class="dashboard">
        <!-- dashboard header -->
        <div class="dashboard-header">
            <h1>Coordinator Dashboard</h1>
            <div>Welcome, Coordinator</div>
        </div>

        <!-- statistics overview -->
        <div class="stats-grid"  >
            <div class="stat-card">
                <div class="stat-number" id="total-apps">0</div>
                <div style="color: #495057;">Total Applications</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="pending-apps">0</div>
                <div style="color: #495057;">Pending Review</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="approved-apps">0</div>
                <div style="color: #495057;">Approved</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="rejected-apps">0</div>
                <div style="color: #495057;">Rejected</div>
            </div>
        </div>

        <!-- applications list -->
        <div class="applications-list">
            <div style="padding: 15px 20px; color: #495057;background: #f8f9fa; font-weight: bold; border-bottom: 1px solid #e9ecef;">
                Recent Applications
            </div>
            <div id="applications-container">
                <!-- Applications will be loaded here -->
            </div>
        </div>

        <!-- detailed application view -->
        <div class="application-detail" id="application-detail" style="color: #232b32;">
            <!-- detail header -->
            <div class="detail-header">
                <h2 id="detail-title">Application Details</h2>
                <button class="btn btn-back" onclick="hideDetail()">Back to List</button>
            </div>

            <!-- application information grid -->
            <div class="detail-grid" >
                <!-- student personal info -->
                <div class="detail-section">
                    <h3>Student Information</h3>
                    <p><strong>Name:</strong> <span id="student-name"></span></p>
                    <p><strong>Email:</strong> <span id="student-email"></span></p>
                    <p><strong>Phone:</strong> <span id="student-phone"></span></p>
                </div>

                <!-- academic background -->
                <div class="detail-section">
                    <h3>Academic Details</h3>
                    <p><strong>Current University:</strong> <span id="current-uni"></span></p>
                    <p><strong>Major:</strong> <span id="major"></span></p>
                    <p><strong>GPA:</strong> <span id="gpa"></span></p>
                    <p><strong>Graduation Year:</strong> <span id="grad-year"></span></p>
                </div>

                <!-- program preferences -->
                <div class="detail-section">
                    <h3>Program Selection</h3>
                    <p><strong>Preferred Destination:</strong> <span id="destination"></span></p>
                    <p><strong>Program Type:</strong> <span id="program-type"></span></p>
                    <p><strong>Start Date:</strong> <span id="start-date"></span></p>
                </div>

                <!-- eligibility assessment -->
                <div class="detail-section">
                    <h3>Eligibility Check</h3>
                    <p><strong>GPA Requirement:</strong> <span id="gpa-check"></span></p>
                    <p><strong>Documents Complete:</strong> <span id="docs-check"></span></p>
                    <p><strong>Overall Status:</strong> <span id="eligibility-status"></span></p>
                </div>
            </div>

            <!-- submitted documents -->
            <div class="detail-section">
                <h3>Submitted Documents</h3>
                <ul class="documents-list" id="documents-list">
                    <!-- Documents will be listed here -->
                </ul>
            </div>

            <!-- action buttons for decisions -->
            <div class="action-buttons">
                <button class="btn btn-approve" onclick="approveApplication()">Approve</button>
                <button class="btn btn-reject" onclick="rejectApplication()">Reject</button>
                <button class="btn btn-changes" onclick="requestChanges()">Request Changes</button>
            </div>

            <!-- notification feedback -->
            <div class="notification-area" id="notification-area">
                <strong>Notification Sent:</strong> <span id="notification-message"></span>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p style="text-align: center;">&copy; 2024 EYR Exchange Network. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // mock applications data for demonstration
        let applications = [
            {
                id: 1,
                studentName: "Ahmed Al-Rashid",
                email: "ahmed.rashid@student.edu",
                phone: "+968 91234567",
                currentUni: "Sultan Qaboos University",
                major: "Computer Science",
                gpa: 3.7,
                gradYear: 2026,
                destination: "United States",
                programType: "Exchange Semester",
                startDate: "Fall 2025",
                status: "pending",
                submittedDate: "2025-12-10",
                documents: ["transcript.pdf", "passport.jpg", "recommendation.pdf"],
                eligibility: {
                    gpaMet: true,
                    docsComplete: true,
                    overall: "Eligible"
                }
            },
            {
                id: 2,
                studentName: "Fatima Al-Zahra",
                email: "fatima.zahra@student.edu",
                phone: "+968 98765432",
                currentUni: "Middle East College",
                major: "Business Administration",
                gpa: 3.2,
                gradYear: 2027,
                destination: "United Kingdom",
                programType: "Full Academic Year",
                startDate: "Spring 2026",
                status: "pending",
                submittedDate: "2025-12-08",
                documents: ["transcript.pdf", "passport.jpg"],
                eligibility: {
                    gpaMet: true,
                    docsComplete: false,
                    overall: "Documents Incomplete"
                }
            },
            {
                id: 3,
                studentName: "Omar Al-Hassan",
                email: "omar.hassan@student.edu",
                phone: "+968 95551111",
                currentUni: "University of Nizwa",
                major: "Engineering",
                gpa: 2.8,
                gradYear: 2026,
                destination: "Germany",
                programType: "Exchange Semester",
                startDate: "Fall 2025",
                status: "changes_requested",
                submittedDate: "2025-12-05",
                documents: ["transcript.pdf", "passport.jpg", "recommendation.pdf"],
                eligibility: {
                    gpaMet: false,
                    docsComplete: true,
                    overall: "GPA Below Requirement"
                }
            }
        ];

        let currentApplication = null;

        // load applications when page loads
        document.addEventListener('DOMContentLoaded', loadApplications);

        // display all applications in list
        function loadApplications() {
            const container = document.getElementById('applications-container');
            container.innerHTML = '';

            // update statistics numbers
            updateStats();

            applications.forEach(app => {
                const item = document.createElement('div');
                item.className = 'application-item';
                item.onclick = () => viewApplication(app.id);

                item.innerHTML = `
                    <div class="app-info">
                        <h4>${app.studentName}</h4>
                        <div class="app-meta">
                            ${app.currentUni} • ${app.major} • Submitted ${app.submittedDate}
                        </div>
                    </div>
                    <span class="status-badge status-${app.status}">
                        ${formatStatus(app.status)}
                    </span>
                `;

                container.appendChild(item);
            });
        }

        // update dashboard statistics
        function updateStats() {
            const total = applications.length;
            const pending = applications.filter(a => a.status === 'pending').length;
            const approved = applications.filter(a => a.status === 'approved').length;
            const rejected = applications.filter(a => a.status === 'rejected').length;

            document.getElementById('total-apps').textContent = total;
            document.getElementById('pending-apps').textContent = pending;
            document.getElementById('approved-apps').textContent = approved;
            document.getElementById('rejected-apps').textContent = rejected;
        }

        // format status for display
        function formatStatus(status) {
            const statusMap = {
                'pending': 'Pending Review',
                'approved': 'Approved',
                'rejected': 'Rejected',
                'changes_requested': 'Changes Requested'
            };
            return statusMap[status] || status;
        }

        // show detailed view of application
        function viewApplication(id) {
            currentApplication = applications.find(a => a.id === id);
            if (!currentApplication) return;

            // fill in all the detail fields
            document.getElementById('detail-title').textContent = `Application #${id}`;
            document.getElementById('student-name').textContent = currentApplication.studentName;
            document.getElementById('student-email').textContent = currentApplication.email;
            document.getElementById('student-phone').textContent = currentApplication.phone;
            document.getElementById('current-uni').textContent = currentApplication.currentUni;
            document.getElementById('major').textContent = currentApplication.major;
            document.getElementById('gpa').textContent = currentApplication.gpa;
            document.getElementById('grad-year').textContent = currentApplication.gradYear;
            document.getElementById('destination').textContent = currentApplication.destination;
            document.getElementById('program-type').textContent = currentApplication.programType;
            document.getElementById('start-date').textContent = currentApplication.startDate;

            // show eligibility information
            document.getElementById('gpa-check').textContent = currentApplication.eligibility.gpaMet ? 'Met (3.0+)' : 'Below 3.0';
            document.getElementById('docs-check').textContent = currentApplication.eligibility.docsComplete ? 'Complete' : 'Incomplete';
            document.getElementById('eligibility-status').textContent = currentApplication.eligibility.overall;

            // list all submitted documents
            const docsList = document.getElementById('documents-list');
            docsList.innerHTML = '';
            currentApplication.documents.forEach(doc => {
                const li = document.createElement('li');
                li.innerHTML = `<i class="fas fa-file"></i> ${doc}`;
                docsList.appendChild(li);
            });

            // switch to detail view
            document.getElementById('application-detail').style.display = 'block';
            document.getElementById('applications-container').style.display = 'none';
        }

        // go back to applications list
        function hideDetail() {
            document.getElementById('application-detail').style.display = 'none';
            document.getElementById('applications-container').style.display = 'block';
            document.getElementById('notification-area').style.display = 'none';
            currentApplication = null;
        }

        // approve the current application
        function approveApplication() {
            if (!currentApplication) return;
            currentApplication.status = 'approved';
            notifyStudent('Your application has been approved! Welcome to the exchange program.');
            loadApplications();
        }

        // reject the current application
        function rejectApplication() {
            if (!currentApplication) return;
            currentApplication.status = 'rejected';
            notifyStudent('Unfortunately, your application has been rejected. Please contact us for more information.');
            loadApplications();
        }

        // request changes for current application
        function requestChanges() {
            if (!currentApplication) return;
            currentApplication.status = 'changes_requested';
            notifyStudent('Please review and update your application. Additional documents or information are required.');
            loadApplications();
        }

        // simulate sending notification to student
        function notifyStudent(message) {
            document.getElementById('notification-message').textContent = message;
            document.getElementById('notification-area').style.display = 'block';

            // log notification to console for simulation
            console.log(`Email sent to ${currentApplication.email}: ${message}`);

            // hide notification after 5 seconds
            setTimeout(() => {
                document.getElementById('notification-area').style.display = 'none';
            }, 5000);
        }
    </script>

</body>
</html>
